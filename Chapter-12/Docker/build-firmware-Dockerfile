# Dockerfile for cross-compiling embedded firmware
FROM ubuntu:20.04

# Install dependencies and toolchain for embedded systems
RUN apt-get update && apt-get install -y \
    gcc-arm-none-eabi \
    make \
    gdb

# Copy source code and build scripts into the container
COPY ./source /home/dev/software

# Set working directory to the source code
WORKDIR /home/dev/software

# Build the firmware
RUN make

# Run the tests
CMD ["./test_suite.sh"]
